import { Box, TextField, Typography } from "@mui/material"
import { useState } from "react";


function IPv4Input() {


  const [ipv4, setIpv4] = useState<[number, number, number, number]>([10, 10, 10, 10]);
  const [aport, setAport] = useState<number>(8000)

  return (
    <Box>
      <TextField
        required
        id="ipv4-attacker-octet-1"
        type="number"
        label="Required"
        InputProps={{
          inputProps: {
            max: 255, min: 1
          }
        }}
        defaultValue={ipv4[0]}
        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {
          let val = parseInt(event.target.value)
          if (val < 1 || val > 255) {
            val = 1
          }
          setIpv4(prev => {
            return [val, prev[1], prev[2], prev[3]]
          });
        }}
      />
      <TextField
        required
        id="ipv4-attacker-octet-2"
        type="number"
        label="Required"
        InputProps={{
          inputProps: {
            max: 255, min: 0
          }
        }}
        defaultValue={ipv4[1]}
        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {
          let val = parseInt(event.target.value)
          if (val < 0 || val > 255) {
            val = 0
          }
          setIpv4(prev => {
            return [prev[0], val, prev[2], prev[3]]
          });
        }}
      />
      <TextField
        required
        id="ipv4-attacker-octet-3"
        type="number"
        label="Required"
        InputProps={{
          inputProps: {
            max: 255, min: 0
          }
        }}
        defaultValue={ipv4[2]}
        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {
          let val = parseInt(event.target.value)
          if (val < 0 || val > 255) {
            val = 0
          }
          setIpv4(prev => {
            return [prev[0], prev[1], val, prev[3]]
          });
        }}
      />
      <TextField
        required
        id="ipv4-attacker-octet-4"
        type="number"
        label="Required"
        InputProps={{
          inputProps: {
            max: 255, min: 0
          }
        }}
        defaultValue={ipv4[3]}
        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {
          let val = parseInt(event.target.value)
          if (val < 0 || val > 255) {
            val = 0
          }
          setIpv4(prev => {
            return [prev[0], prev[1], prev[2], val]
          });
        }}
      />

      <TextField
        required
        id="port-attacker"
        type="number"
        label="Required"
        defaultValue={aport}
        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {
          let val = parseInt(event.target.value)
          if (val < 0 || val > 65535) {
            val = 8000
          }
          setAport(val);
        }}
      />

      <br />
      <Typography variant="h6">{ipv4.join('.')}:{aport}</Typography>
    </Box>
  )
}

export default IPv4Input
