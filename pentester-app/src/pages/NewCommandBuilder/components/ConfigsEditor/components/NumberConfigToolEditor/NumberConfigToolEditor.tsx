import React from 'react'
import { Signal } from '@preact/signals-react'
import NumberInput from '../../../../../../components/NumberInput'
import { InputAdornment, Typography } from '@mui/material'
import AlertDialog from '../../../../../../components/AlertDialog'

interface Props {
  minNum: Signal<number>
  maxNum: Signal<number>
}

const NumberConfigToolEditor = React.memo(({ minNum, maxNum }: Props) => {
  return (
    <>
      <NumberInput
        defaultValue={1}
        props={{
          fullWidth: true,
          label: 'Min Number Value Allowed',
          value: minNum.value,
          InputProps: {
            inputProps: {
              max: maxNum.value,
            },
            startAdornment: (
              <InputAdornment position="start">
                <AlertDialog title="Min Number Value Allowed Help">
                  <Typography>
                    For a Config Tool input of type number, a range of valid
                    numbers is required to be allowed. Both a minimum and
                    maximum allowed value is to be set. Consider keeping this
                    range as small as possible for the best user experience,
                    however it needs to cover the use-case of the value it's
                    replacing in the command.
                  </Typography>
                </AlertDialog>
              </InputAdornment>
            ),
          },
        }}
        numberChangeEvent={(n: number) => {
          minNum.value = n
        }}
      />

      <NumberInput
        defaultValue={65535}
        props={{
          fullWidth: true,
          label: 'Max Number Value Allowed',
          value: maxNum.value,
          InputProps: {
            inputProps: {
              min: minNum.value,
            },
            startAdornment: (
              <InputAdornment position="start">
                <AlertDialog title="Max Number Value Allowed Help">
                  <Typography>
                    For a Config Tool input of type number, a range of valid
                    numbers is required to be allowed. Both a minimum and
                    maximum allowed value is to be set. Consider keeping this
                    range as small as possible for the best user experience,
                    however it needs to cover the use-case of the value it's
                    replacing in the command.
                  </Typography>
                </AlertDialog>
              </InputAdornment>
            ),
          },
        }}
        numberChangeEvent={(n: number) => {
          maxNum.value = n
        }}
      />
    </>
  )
})

export default NumberConfigToolEditor
